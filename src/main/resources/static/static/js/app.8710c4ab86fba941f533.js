webpackJsonp([1],{"1uuo":function(t,e){},J9fT:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW");document.title="Messenger";var n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=s("VU/8")({name:"Messenger"},n,!1,function(t){s("J9fT")},null,null).exports,r=s("/ocq"),i=s("NYxO");a.a.use(i.a);var l={isLogged:window.localStorage.getItem("isLogged"),username:""},c={getUsername:function(t){return t.username?t.username:window.localStorage.getItem("username")}},u={LOGIN_USER:function(t){t.isLogged=!0,window.localStorage.setItem("isLogged",!0)},LOGOUT_USER:function(t){t.isLogged=!1,window.localStorage.setItem("isLogged",!1)},setUsername:function(t,e){t.username=e,window.localStorage.setItem("username",e)}},d=new i.a.Store({strict:!1,state:l,getters:c,mutations:u}),m=s("mtWM"),v=s.n(m).a.create({baseURL:"http://localhost:8082"}),h={name:"login",data:function(){return{loader:!1,infoError:!1,username:"",password:""}},isAuth:function(){return console.log("IS LOGGED"+d.state.isLogged),d.state.isLogged},login:function(t){var e=this;this.loader=!0,this.infoError=!1,v.post("/loginhandler",{username:this.username,password:this.password}).then(function(t){200===t.status&&(d.commit("LOGIN_USER"),x.push({path:"/"}))}).catch(function(s){if(console.log("Error"+s.response),401===s.response.status){var a=decodeURIComponent(s.response.data);t(a,!0),d.commit("setUsername","")}else 422===s.response.status&&(x.push({path:"/changePassword"}),d.commit("setUsername",e.username))})},updatePassword:function(t,e,s,a){v.post("/updatepassword",{username:t,password:e,newPassword:s}).then(function(t){return console.log("update pass response"+t),!0}).catch(function(t){console.log("update pass error"+t);var e=decodeURIComponent(t.response.data);return a(e,!0),!1})},logout:function(t){console.log("logout"),v.post("/logout",{username:this.username,password:this.password}).then(function(t){200===t.status&&(d.commit("LOGOUT_USER"),x.push({path:"/login"}))}).catch(function(t){console.log("Error"+t.response),x.push({path:"/"})})}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),s("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),s("br"),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var f=s("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},p,!1,function(t){s("1uuo")},"data-v-d8ec41bc",null).exports;document.title="Sign";var g={name:"Login",data:function(){return{usernameLocal:"",passwordLocal:"",errorTitle:"",isActive:!1}},activated:function(){console.log("error")},methods:{submitUserData:function(){var t=this;h.username=this.usernameLocal,h.password=this.passwordLocal;h.login(function(e,s){t.errorTitle=e,t.isActive=s})}},watch:{usernameLocal:function(t){this.isActive=!1},passwordLocal:function(t){this.isActive=!1}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-page"},[s("div",{staticClass:"login-box"},[s("div",{staticClass:"login-logo"}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"login-box-body"},[s("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.submitUserData(e)}}},[s("div",{staticClass:"form-group has-feedback"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.usernameLocal,expression:"usernameLocal"}],staticClass:"form-control",attrs:{type:"login",maxlength:"40",placeholder:"Login"},domProps:{value:t.usernameLocal},on:{input:function(e){e.target.composing||(t.usernameLocal=e.target.value)}}}),t._v(" "),s("span",{staticClass:"fa fa-user form-control-feedback"})]),t._v(" "),s("div",{staticClass:"form-group has-feedback"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordLocal,expression:"passwordLocal"}],staticClass:"form-control",attrs:{type:"password",maxlength:"40",minlength:"6",placeholder:"Password"},domProps:{value:t.passwordLocal},on:{input:function(e){e.target.composing||(t.passwordLocal=e.target.value)}}}),t._v(" "),s("span",{staticClass:"fa fa-lock form-control-feedback"})]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12 text-left"},[t.isActive?s("p",{staticClass:"errorMessage"},[t._v(" "+t._s(t.errorTitle)+" ")]):t._e()])]),t._v(" "),t._m(1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-logo green text-left"},[e("p",{staticClass:"title text-left"},[this._v("Messenger")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("table",[e("tr",[e("td",{staticClass:"col-md-6 text-left"},[e("a",{attrs:{href:"#/signup"}},[this._v("\n                  Sign-up\n                ")])]),this._v(" "),e("td",{staticClass:"col-md-2"},[e("button",{staticClass:"btn btn-primary btn-block btn-flat"},[this._v("\n                  Sign-in\n                ")])])])])])}]};var w=s("VU/8")(g,_,!1,function(t){s("sZsv")},"data-v-56222f5e",null).exports,b={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper"},[e("section",{staticClass:"content"},[e("div",{staticClass:"col-md-6 col-md-offset-3"},[e("div",{staticClass:"box box-solid"},[e("div",{staticClass:"box-header"},[e("div",{staticClass:"col-md-8"},[e("h2",{staticClass:"page"},[this._v("404")])])]),this._v(" "),e("div",{staticClass:"box-body"},[e("div",{staticClass:"col-md-8"},[e("p",{staticClass:"title"},[this._v("Sorry, page not found.")])])]),this._v(" "),e("div",{staticClass:"box-footer"},[e("div",{}),this._v(" "),e("a",{staticClass:"button",attrs:{href:"#/"}},[this._v("\n            Return to main\n          ")])])])])])])}]};var C=s("VU/8")(null,b,!1,function(t){s("QxGg")},"data-v-886d8ca2",null).exports;a.a.use(r.a);var L=new r.a({routes:[{path:"/",name:"HelloWorld",component:f,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:w,meta:{requiresAuth:!1,title:"Sign-in"}},{path:"/404",component:C,meta:{requiresAuth:!1,title:"Page not found"}},{path:"*",redirect:"/404",meta:{requiresAuth:!1,title:"Page not found"}}]});L.beforeEach(function(t,e,s){document.title=t.meta.title,t.matched.some(function(t){return t.meta.requiresAuth})?h.isAuth()?s():s({path:"/login",query:{redirect:t.fullPath}}):s()});var x=L;s("qb6w"),s("R6CI"),s("e0XP");a.a.config.productionTip=!1,new a.a({el:"#app",router:x,components:{App:o},template:"<App/>"})},QxGg:function(t,e){},R6CI:function(t,e){},e0XP:function(t,e){},qb6w:function(t,e){},sZsv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8710c4ab86fba941f533.js.map